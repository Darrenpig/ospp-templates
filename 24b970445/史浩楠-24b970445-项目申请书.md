<h1 align='center'>项目申请书</h1><br>
<h4 align='center'>项目名称：基于easybox框架支持rust版本的find基础命令</h4>
<h4 align='center'>项目主导师：hubin95</h4>
<h4 align='center'>申请人：史浩楠</h4>
<h4 align='center'>邮箱：hxzsty233@gmail.com</h4>

<br>
<br>
<br>

---

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1.项目背景](#1项目背景)
  - [1.easybox 框架](#1easybox-框架)
  - [2.rust 语言](#2rust-语言)
  - [3.find 基础命令](#3find-基础命令)
    - [语法：](#语法)
    - [参数说明 :](#参数说明-)
- [2.项目详细需求](#2项目详细需求)
  - [1.使用 rust 重写 find 函数基础命令](#1使用-rust-重写-find-函数基础命令)
- [3.技术方法和可行性](#3技术方法和可行性)
  - [1.理解 find 函数源代码功能](#1理解-find-函数源代码功能)
  - [2.了解 easyBox 系统调用](#2了解-easybox-系统调用)
  - [3.重写 find 函数](#3重写-find-函数)
- [4. 规划](#4-规划)
  - [1.项目开发第一阶段（7.01 - 8.15）](#1项目开发第一阶段701---815)
  - [2.项目开发第二阶段（8.15 - 9.30）](#2项目开发第二阶段815---930)
- [5.期望](#5期望)

<!-- /code_chunk_output -->


---
## 1.项目背景

### 1.easybox 框架
 
easyBox 是一个基础命令行的项目，该项目使用 rust 语言重写 Linux 下的基础命令，支持服务器场景以及嵌入式场景。该项目优先会支持当前还未进行 rust 重构的基础软件，并借助 rust 的安全能力，提供更为安全的操作系统基础命令。项目地址[https://gitee.com/openeuler/easybox](https://gitee.com/openeuler/easybox)

### 2.rust 语言

![Static Badge](https://img.shields.io/badge/Rust-black?logo=rust) 是一款高效、安全的编译性语言，可以成为 ![Static Badge](https://img.shields.io/badge/-black?logo=c) 的替代品

### 3.find 基础命令

#### 语法：

```shell
find [路径] [匹配条件] [动作]
```

#### 参数说明 :

路径 是要查找的目录路径，可以是一个目录或文件名，也可以是多个路径，多个路径之间用空格分隔，如果未指定路径，则默认为当前目录。

expression 是可选参数，用于指定查找的条件，可以是文件名、文件类型、文件大小等等。

匹配条件 中可使用的选项有二三十个之多，以下列出最常用的部份：

-name pattern：按文件名查找，支持使用通配符 * 和 ?。
-type type：按文件类型查找，可以是 f（普通文件）、d（目录）、l（符号链接）等。
-size [+-]size[cwbkMG]：按文件大小查找，支持使用 + 或 - 表示大于或小于指定大小，单位可以是 c（字节）、w（字数）、b（块数）、k（KB）、M（MB）或 G（GB）。
-mtime days：按修改时间查找，支持使用 + 或 - 表示在指定天数前或后，days 是一个整数表示天数。
-user username：按文件所有者查找。
-group groupname：按文件所属组查找。
动作: 可选的，用于对匹配到的文件执行操作，比如删除、复制等。

find 命令中用于时间的参数如下：

-amin n：查找在 n 分钟内被访问过的文件。
-atime n：查找在 n*24 小时内被访问过的文件。
-cmin n：查找在 n 分钟内状态发生变化的文件（例如权限）。
-ctime n：查找在 n*24 小时内状态发生变化的文件（例如权限）。
-mmin n：查找在 n 分钟内被修改过的文件。
-mtime n：查找在 n*24 小时内被修改过的文件。

在这些参数中，n 可以是一个正数、负数或零。正数表示在指定的时间内修改或访问过的文件，负数表示在指定的时间之前修改或访问过的文件，零表示在当前时间点上修改或访问过的文件。

正数应该表示时间之前，负数表示时间之内。

例如：-mtime 0 表示查找今天修改过的文件，-mtime -7 表示查找一周以前修改过的文件。

关于时间 n 参数的说明：

+n：查找比 n 天前更早的文件或目录。
-n：查找在 n 天内更改过属性的文件或目录。
n：查找在 n 天前（指定那一天）更改过属性的文件或目录。

## 2.项目详细需求

### 1.使用 rust 重写 find 函数基础命令

find 函数最新版于 2024 年 6 月 1 日[发布](https://ftp.gnu.org/pub/gnu/findutils/findutils-4.10.0.tar.xz)，源代码使用 c 和 GNU 标准库编写。项目需要使用 rust 语言编写 find 函数命令，效果与原 rust 版本一致。

## 3.技术方法和可行性

### 1.理解 find 函数源代码功能

解析 find 函数。find命令的源代码主要由C语言编写，通过调用系统库函数和系统调用来实现功能。在源代码中linux 系统 find命令源代码，主要包含以下几个关键部分：

-命令行参数解析：将用户输入的命令行参数解析为内部数据结构

-目录遍历：根据指定的路径进行目录遍历，查找符合条件的文件

-条件判断：对每个文件进行条件判断，判断是否符合用户指定的条件

-动作执行：对符合条件的文件执行相应的动作，如打印、删除等

### 2.了解 easyBox 系统调用

了解 easyBox 中实现了哪些可以调用的系统函数

### 3.重写 find 函数

实现示例可以参见 base32 项目

## 4. 规划

> 暑假有小学期，但是每天课不多，可以保证每天4小时以上的开发时间

### 1.项目开发第一阶段（7.01 - 8.15）

- [ ] 熟悉 rust 语言
- [ ] 加深对于 find 工具源码的理解
- [ ] 了解 easyBox 架构

### 2.项目开发第二阶段（8.15 - 9.30）

- [ ] 编写 rust 下的 find
- [ ] 通过单元测试
- [ ] 测试多平台上的兼容性

## 5.期望

ospp 提供了很好的平台，希望借助这个机会，参与到开源项目中，积累相关经验、学习新的知识，为日后参与更多开源项目提供一个经验借鉴。

我对 Linux 命令行工具的实现细节感兴趣，希望能通过编写 rust 下的源码来加深自己的理解。